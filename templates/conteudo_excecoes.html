{% extends "modelo.html" %}
{% block conteudo %}

<div class="container" xmlns="http://www.w3.org/1999/html">
        <h1>Tratamento de Exce√ß√µes em Python üõ°Ô∏è</h1>

        </br>

        <p>
          O tratamento de exce√ß√µes √© uma parte crucial da escrita de programas robustos em Python. Ele permite
          que voc√™ lide com erros e situa√ß√µes inesperadas de forma controlada, evitando que seu programa pare
          abruptamente.
        </p>

        </br>

        <p>
          Exce√ß√µes s√£o erros que ocorrem durante a execu√ß√£o de um programa. Python usa o tratamento de exce√ß√µes
          para gerenciar esses erros de forma elegante, permitindo que o programa responda a problemas sem travar
          completamente. Isso √© feito principalmente com os blocos <code>try</code>, <code>except</code>,
          <code>else</code> e <code>finally</code>.
        </p>

        <hr>

        <h2>1. O Bloco <code>try</code> e <code>except</code></h2>
        <p>O c√≥digo que pode potencialmente gerar uma exce√ß√£o √© colocado dentro de um bloco <code>try</code>. Se uma exce√ß√£o ocorrer dentro do bloco <code>try</code>, o Python procura um bloco <code>except</code> correspondente para lidar com ela.</p>

        <h3>Exemplo: Lidando com <code>ZeroDivisionError</code></h3>
        <pre><code>
try:
    numerador = 10
    denominador = 0
    resultado = numerador / denominador
    print(f"O resultado √©: {resultado}")
except ZeroDivisionError:
    print("Erro: Divis√£o por zero n√£o √© permitida!")

print("O programa continua ap√≥s o tratamento da exce√ß√£o.")
        </code></pre>
        <p><strong>Sa√≠da Esperada:</strong></p>
        <pre><code>
Erro: Divis√£o por zero n√£o √© permitida!
O programa continua ap√≥s o tratamento da exce√ß√£o.
        </code></pre>

        <h3>Exemplo: Lidando com <code>ValueError</code></h3>
        <p>Isso ocorre, por exemplo, ao tentar converter uma string n√£o num√©rica para um inteiro.</p>
        <pre><code>
try:
    entrada_usuario = input("Digite um n√∫mero inteiro: ")
    numero = int(entrada_usuario)
    print(f"Voc√™ digitou o n√∫mero: {numero}")
except ValueError:
    print("Erro: Entrada inv√°lida. Por favor, digite um n√∫mero inteiro v√°lido.")
        </code></pre>
        <p>Se o usu√°rio digitar "abc", a sa√≠da ser√°:</p>
        <pre><code>
Erro: Entrada inv√°lida. Por favor, digite um n√∫mero inteiro v√°lido.
        </code></pre>

        <hr>

        <h2>2. Lidando com M√∫ltiplas Exce√ß√µes</h2>
        <p>Voc√™ pode ter v√°rios blocos <code>except</code> para lidar com diferentes tipos de exce√ß√µes, ou agrupar exce√ß√µes.</p>

        <h3>M√∫ltiplos Blocos <code>except</code>:</h3>
        <pre><code>
try:
    valor = int(input("Digite um n√∫mero para dividir 10 por ele: "))
    resultado = 10 / valor
    print(f"10 / {valor} = {resultado}")
    lista = [1, 2, 3]
    print(lista[valor]) # Pode gerar IndexError se valor for >= 3
except ValueError:
    print("Erro: Voc√™ precisa digitar um n√∫mero inteiro.")
except ZeroDivisionError:
    print("Erro: N√£o se pode dividir por zero.")
except IndexError:
    print("Erro: √çndice fora do alcance da lista.")
except Exception as e: # Gen√©rico, captura outras exce√ß√µes
    print(f"Ocorreu um erro inesperado: {e}")
    print(f"Tipo do erro: {type(e).__name__}")
        </code></pre>
        <p>O bloco <code>except Exception as e:</code> √© uma forma gen√©rica de capturar a maioria das exce√ß√µes. A vari√°vel <code>e</code> conter√° uma inst√¢ncia da exce√ß√£o, permitindo que voc√™ obtenha mais informa√ß√µes sobre o erro.</p>

        <h3>Agrupando Exce√ß√µes:</h3>
        <p>Voc√™ pode lidar com m√∫ltiplos tipos de exce√ß√£o em um √∫nico bloco <code>except</code> usando uma tupla.</p>
        <pre><code>
try:
    # C√≥digo que pode gerar TypeError ou ValueError
    x = "texto" + 5 # Isso gerar√° um TypeError
    # y = int("n√£o_um_numero") # Isso geraria um ValueError
except (TypeError, ValueError) as e:
    print(f"Ocorreu um erro de tipo ou valor: {e}")
    print(f"Tipo espec√≠fico: {type(e).__name__}")
        </code></pre>
        <p><strong>Sa√≠da Esperada:</strong></p>
        <pre><code>
Ocorreu um erro de tipo ou valor: can only concatenate str (not "int") to str
Tipo espec√≠fico: TypeError
        </code></pre>

        <hr>

        <h2>3. O Bloco <code>else</code></h2>
        <p>O bloco <code>else</code> √© opcional e, se presente, √© executado somente se nenhuma exce√ß√£o ocorrer no bloco <code>try</code>.</p>
        <pre><code>
try:
    numero = int(input("Digite um n√∫mero inteiro: "))
except ValueError:
    print("Entrada inv√°lida! N√£o √© um n√∫mero inteiro.")
else:
    print(f"Voc√™ digitou {numero}. O quadrado √© {numero ** 2}.")
    print("Nenhuma exce√ß√£o ocorreu no bloco try.")
        </code></pre>
        <p>Se o usu√°rio digitar "5", a sa√≠da ser√°:</p>
        <pre><code>
Voc√™ digitou 5. O quadrado √© 25.
Nenhuma exce√ß√£o ocorreu no bloco try.
        </code></pre>
        <p>Se o usu√°rio digitar "texto", a sa√≠da ser√°:</p>
        <pre><code>
Entrada inv√°lida! N√£o √© um n√∫mero inteiro.
        </code></pre>

        <hr>

        <h2>4. O Bloco <code>finally</code></h2>
        <p>O bloco <code>finally</code> tamb√©m √© opcional e √© sempre executado, independentemente de ter ocorrido uma exce√ß√£o ou n√£o. √â comumente usado para a√ß√µes de limpeza, como fechar arquivos ou conex√µes de rede.</p>
        <pre><code>
arquivo = None # Inicializa a vari√°vel fora do try para garantir que ela exista no finally
try:
    print("Tentando abrir o arquivo...")
    arquivo = open("meu_arquivo_exemplo.txt", "w") # 'w' para escrita
    arquivo.write("Ol√°, tratamento de exce√ß√µes!\n")
    # Descomente a linha abaixo para simular um erro ap√≥s abrir o arquivo:
    # resultado = 10 / 0
    print("Dados escritos no arquivo.")
except FileNotFoundError:
    print("Erro: O arquivo n√£o foi encontrado (improv√°vel com modo 'w', mas exemplo).")
except ZeroDivisionError:
    print("Erro: Tentativa de divis√£o por zero no bloco try.")
except Exception as e:
    print(f"Ocorreu um erro durante a opera√ß√£o com o arquivo: {e}")
else:
    print("Opera√ß√µes no arquivo conclu√≠das com sucesso (nenhuma exce√ß√£o no try).")
finally:
    print("Bloco finally est√° sendo executado.")
    if arquivo: # Verifica se o arquivo foi realmente aberto
        if not arquivo.closed:
            arquivo.close()
            print("Arquivo foi fechado.")
        else:
            print("Arquivo j√° estava fechado.")
    else:
        print("Objeto de arquivo n√£o foi criado (ex: erro ao abrir).")
        </code></pre>
        <p>Este exemplo demonstra que o <code>finally</code> executa para garantir que recursos sejam liberados.</p>

        <hr>

        <h2>5. Levantando Exce√ß√µes (<code>raise</code>)</h2>
        <p>Voc√™ pode levantar (ou lan√ßar) exce√ß√µes intencionalmente usando a palavra-chave <code>raise</code>. Isso √© √∫til quando voc√™ detecta uma condi√ß√£o de erro em seu pr√≥prio c√≥digo.</p>
        <pre><code>
def validar_idade(idade):
    if not isinstance(idade, int):
        raise TypeError("A idade deve ser um n√∫mero inteiro.")
    if idade < 0:
        raise ValueError("A idade n√£o pode ser negativa.")
    elif idade < 18:
        print("Pessoa √© menor de idade.")
    else:
        print("Pessoa √© maior de idade.")

try:
    # validar_idade("vinte") # Descomente para testar TypeError
    # validar_idade(-5)      # Descomente para testar ValueError
    validar_idade(25)
    validar_idade(15)
except TypeError as te:
    print(f"Erro de Tipo: {te}")
except ValueError as ve:
    print(f"Erro de Valor: {ve}")
        </code></pre>
        <p><strong>Sa√≠da Esperada (se nenhuma linha for descomentada):</strong></p>
        <pre><code>
Pessoa √© maior de idade.
Pessoa √© menor de idade.
        </code></pre>
        <p>Se <code>validar_idade("vinte")</code> for chamado, a sa√≠da incluir√°: <code>Erro de Tipo: A idade deve ser um n√∫mero inteiro.</code></p>

        <div class="note">
            <h3>Exce√ß√µes Personalizadas</h3>
            <p>Para casos mais espec√≠ficos, voc√™ pode criar suas pr√≥prias classes de exce√ß√£o herdando da classe base <code>Exception</code> ou de outras classes de exce√ß√£o mais espec√≠ficas. Isso permite um tratamento de erros mais granular e sem√¢ntico para suas aplica√ß√µes.</p>
            <pre><code>
class ErroDeSaldoInsuficiente(Exception):
    """Exce√ß√£o personalizada para saldo insuficiente."""
    def __init__(self, saldo_atual, valor_saque):
        self.saldo_atual = saldo_atual
        self.valor_saque = valor_saque
        super().__init__(f"Tentativa de sacar {valor_saque} com saldo de {saldo_atual}.")

def sacar(saldo, valor):
    if valor > saldo:
        raise ErroDeSaldoInsuficiente(saldo, valor)
    return saldo - valor

try:
    saldo_final = sacar(100, 150)
except ErroDeSaldoInsuficiente as esi:
    print(f"N√£o foi poss√≠vel sacar: {esi}")
    print(f"Detalhes: Saldo: {esi.saldo_atual}, Saque: {esi.valor_saque}")
            </code></pre>
            <p><strong>Sa√≠da Esperada:</strong></p>
            <pre><code>
N√£o foi poss√≠vel sacar: Tentativa de sacar 150 com saldo de 100.
Detalhes: Saldo: 100, Saque: 150
            </code></pre>
        </div>

        <hr>

        <h2>6. Algumas Exce√ß√µes Comuns em Python</h2>
        <table>
            <thead>
                <tr>
                    <th>Exce√ß√£o</th>
                    <th>Descri√ß√£o</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td><code>Exception</code></td>
                    <td>Classe base para a maioria das exce√ß√µes.</td>
                </tr>
                <tr>
                    <td><code>AttributeError</code></td>
                    <td>Tentativa de acessar um atributo ou m√©todo que n√£o existe em um objeto.</td>
                </tr>
                <tr>
                    <td><code>EOFError</code></td>
                    <td>Quando a fun√ß√£o <code>input()</code> atinge o fim do arquivo (end-of-file) sem ler dados.</td>
                </tr>
                <tr>
                    <td><code>FileNotFoundError</code></td>
                    <td>Tentativa de abrir um arquivo que n√£o existe (para leitura).</td>
                </tr>
                <tr>
                    <td><code>ImportError</code></td>
                    <td>Falha ao tentar importar um m√≥dulo.</td>
                </tr>
                <tr>
                    <td><code>IndexError</code></td>
                    <td>Acesso a um √≠ndice de sequ√™ncia (lista, tupla, etc.) que est√° fora dos limites.</td>
                </tr>
                <tr>
                    <td><code>KeyError</code></td>
                    <td>Acesso a uma chave de dicion√°rio que n√£o existe.</td>
                </tr>
                <tr>
                    <td><code>KeyboardInterrupt</code></td>
                    <td>Quando o usu√°rio pressiona Ctrl+C durante a execu√ß√£o do programa.</td>
                </tr>
                <tr>
                    <td><code>MemoryError</code></td>
                    <td>O programa fica sem mem√≥ria para alocar um objeto.</td>
                </tr>
                <tr>
                    <td><code>NameError</code></td>
                    <td>Uso de uma vari√°vel ou nome de fun√ß√£o que n√£o foi definido.</td>
                </tr>
                <tr>
                    <td><code>OverflowError</code></td>
                    <td>O resultado de uma opera√ß√£o aritm√©tica √© muito grande para ser representado.</td>
                </tr>
                <tr>
                    <td><code>RuntimeError</code></td>
                    <td>Erro que n√£o se encaixa em nenhuma outra categoria espec√≠fica.</td>
                </tr>
                 <tr>
                    <td><code>SyntaxError</code></td>
                    <td>Erro na sintaxe do c√≥digo Python (detectado antes da execu√ß√£o).</td>
                </tr>
                <tr>
                    <td><code>IndentationError</code></td>
                    <td>Erro de indenta√ß√£o incorreta (um subtipo de SyntaxError).</td>
                </tr>
                <tr>
                    <td><code>TypeError</code></td>
                    <td>Opera√ß√£o ou fun√ß√£o aplicada a um objeto de tipo inadequado.</td>
                </tr>
                <tr>
                    <td><code>ValueError</code></td>
                    <td>Opera√ß√£o ou fun√ß√£o recebe um argumento com o tipo correto, mas valor inadequado.</td>
                </tr>
                <tr>
                    <td><code>ZeroDivisionError</code></td>
                    <td>Divis√£o ou m√≥dulo por zero.</td>
                </tr>
            </tbody>
        </table>

        <hr>
        <p>O tratamento de exce√ß√µes √© uma ferramenta poderosa para criar programas Python mais confi√°veis e f√°ceis de usar. Pratique o uso de <code>try-except</code> para antecipar e gerenciar poss√≠veis problemas em seu c√≥digo! üòä</p>
    </div>

{% endblock %}